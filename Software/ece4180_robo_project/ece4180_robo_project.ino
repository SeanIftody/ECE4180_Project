//**************************************************************************************************
// Name:
//  ece4180_robo_project.ino
//
// Description:
//  Controls the functionality of a CM-530 controller via Arduino
//
// Changes:
//  Sean Iftody, 2015-Apr-14:
//   Created.
//**************************************************************************************************
//**************************************************************************************************
// INCLUDES
//**************************************************************************************************
#include "Arduino.h"

//**************************************************************************************************
// CONSTANTS
//**************************************************************************************************
const uint8_t  moveFoward[6]  = {0xAA, 0x01, 0x0E, 0xAA, 0x00, 0x1E};
const uint8_t* moveFoward_ptr = moveFoward;
const uint8_t  moveLeft[6]    = {0xAA, 0x04, 0x5E, 0xAA, 0x00, 0x1E};
const uint8_t* moveLeft_ptr   = moveLeft;
const uint8_t  moveRight[6]   = {0xAA, 0x08, 0x1E, 0xAA, 0x00, 0x1E};
const uint8_t* moveRight_ptr  = moveRight;
const uint8_t  moveBack[6]    = {0xAA, 0x02, 0x7E, 0xAA, 0x00, 0x1E};
const uint8_t* moveBack_ptr   = moveBack;

//**************************************************************************************************
// FUNCTION PROTOTYPES
//**************************************************************************************************
void moveRobotForward();
void moveRobotLeft();
void moveRobotRight();
void moveRobotBack();

//**************************************************************************************************
// FUNCTIONS
//**************************************************************************************************
//**************************************************************************************************
// Name: setup
//**************************************************************************************************
void setup() {
  Serial.begin(1900);
}

//**************************************************************************************************
// Name: loop
//**************************************************************************************************
void loop() {
  moveRobotForward();
  delay(1000);
  moveRobotBack();
  delay(1000);
  moveRobotRight();
  delay(1000);
  moveRobotLeft();
  delay(1000);
  while(1);
}

//**************************************************************************************************
// Name: moveRobotForward
//**************************************************************************************************
void moveRobotForward()
{
  Serial.write(moveFoward_ptr, 3);
  delay(210);
  Serial.write(moveFoward_ptr+3, 3);
}

//**************************************************************************************************
// Name: moveRobotLeft
//**************************************************************************************************
void moveRobotLeft()
{
  Serial.write(moveLeft_ptr, 3);
  delay(210);
  Serial.write(moveLeft_ptr+3, 3);
}

//**************************************************************************************************
// Name: moveRobotRight
//**************************************************************************************************
void moveRobotRight()
{
  Serial.write(moveRight_ptr, 3);
  delay(210);
  Serial.write(moveRight_ptr+3, 3);
}

//**************************************************************************************************
// Name: moveRobotBack
//**************************************************************************************************
void moveRobotBack()
{
  Serial.write(moveBack_ptr, 3);
  delay(210);
  Serial.write(moveBack_ptr+3, 3);
}
